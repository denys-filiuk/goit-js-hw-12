{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport const params = {\n  key: '49327646-fcd0425046884d30268cb7003',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nexport function fetchSearchResult(query) {\n  return axios\n    .get('/', {\n      params: { ...params, q: query },\n    })\n    .then(resp => {\n      const hits = resp.data.hits;\n      return hits;\n    })\n    .catch(error => {\n      console.error(error);\n      return [];\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport async function renderSearchCard(images) {\n  if (!images.length) return;\n\n  const gallery = document.querySelector('.gallery');\n\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <li class=\"galleryCard\">\n          <a href=\"${largeImageURL}\">\n            <img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\">\n          </a>\n          <ul class=\"attributesList\">\n            <li class=\"attributesItem\"><span class=\"attributesLabel\">Likes</span><br>${likes}</li>\n            <li class=\"attributesItem\"><span class=\"attributesLabel\">Views</span><br>${views}</li>\n            <li class=\"attributesItem\"><span class=\"attributesLabel\">Comments</span><br>${comments}</li>\n            <li class=\"attributesItem\"><span class=\"attributesLabel\">Downloads</span><br>${downloads}</li>\n          </ul>\n        </li>\n      `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  await new Promise(resolve => requestAnimationFrame(resolve));\n\n  let lightbox;\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionsData: 'alt',\n      captionPosition: 'bottom',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchSearchResult } from './js/pixabay-api.js';\nimport { renderSearchCard } from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const searchQuery = event.target.elements.search.value.trim();\n  if (!searchQuery) {\n    iziToast.show({\n      message: 'Введіть слово для пошуку!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  gallery.innerHTML = '';\n\n  loader.style.display = 'block';\n\n  fetchSearchResult(searchQuery)\n    .then(images => {\n      if (!images || images.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: '#EF4040',\n          messageColor: '#FAFAFB',\n          iconColor: '#FAFAFB',\n        });\n      } else {\n        renderSearchCard(images);\n      }\n    })\n    .catch(error => {\n      console.error('Error while retrieving images:', error);\n      iziToast.show({\n        message: 'An error occurred while searching. Please try again!',\n        position: 'topRight',\n        backgroundColor: '#EF4040',\n        messageColor: '#FAFAFB',\n        iconColor: '#FAFAFB',\n      });\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n\n  form.reset();\n});\n"],"names":["axios","params","fetchSearchResult","query","resp","error","renderSearchCard","images","gallery","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","resolve","lightbox","SimpleLightbox","form","loader","event","searchQuery","iziToast"],"mappings":"owBAEAA,EAAM,SAAS,QAAU,2BAElB,MAAMC,EAAS,CACpB,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEO,SAASC,EAAkBC,EAAO,CACvC,OAAOH,EACJ,IAAI,IAAK,CACR,OAAQ,CAAE,GAAGC,EAAQ,EAAGE,CAAO,CAChC,CAAA,EACA,KAAKC,GACSA,EAAK,KAAK,IAExB,EACA,MAAMC,IACL,QAAQ,MAAMA,CAAK,EACZ,CAAE,EACV,CACL,CCrBO,eAAeC,EAAiBC,EAAQ,CAC7C,GAAI,CAACA,EAAO,OAAQ,OAEpB,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE3CC,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,qBAESL,CAAa;AAAA,oCACED,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,uFAGyBC,CAAK;AAAA,uFACLC,CAAK;AAAA,0FACFC,CAAQ;AAAA,2FACPC,CAAS;AAAA;AAAA;AAAA,OAIpG,EACK,KAAK,EAAE,EAEVR,EAAQ,mBAAmB,YAAaC,CAAM,EAE9C,MAAM,IAAI,QAAQQ,GAAW,sBAAsBA,CAAO,CAAC,EAE3D,IAAIC,EACCA,EAQHA,EAAS,QAAS,EAPlBA,EAAW,IAAIC,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GACpB,CAAK,CAIL,CC1CA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCZ,EAAU,SAAS,cAAc,UAAU,EAC3Ca,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAgB,EAEtB,MAAMC,EAAcD,EAAM,OAAO,SAAS,OAAO,MAAM,KAAM,EAC7D,GAAI,CAACC,EAAa,CAChBC,EAAS,KAAK,CACZ,QAAS,4BACT,SAAU,UAChB,CAAK,EACD,MACJ,CAEEhB,EAAQ,UAAY,GAEpBa,EAAO,MAAM,QAAU,QAEvBnB,EAAkBqB,CAAW,EAC1B,KAAKhB,GAAU,CACV,CAACA,GAAUA,EAAO,SAAW,EAC/BiB,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,UAAW,SACrB,CAAS,EAEDlB,EAAiBC,CAAM,CAE1B,CAAA,EACA,MAAMF,GAAS,CACd,QAAQ,MAAM,iCAAkCA,CAAK,EACrDmB,EAAS,KAAK,CACZ,QAAS,uDACT,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,UAAW,SACnB,CAAO,CACF,CAAA,EACA,QAAQ,IAAM,CACbH,EAAO,MAAM,QAAU,MAC7B,CAAK,EAEHD,EAAK,MAAO,CACd,CAAC"}